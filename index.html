
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Strasbourg.eu - Référence de l'API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentification" class="toc-h1 toc-link" data-title="Authentification">Authentification</a>
          </li>
          <li>
            <a href="#evenements" class="toc-h1 toc-link" data-title="Evénements">Evénements</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tous-les-evenements" class="toc-h2 toc-link" data-title="Evénements">Tous les événements</a>
                  </li>
                  <li>
                    <a href="#evenement-specifique" class="toc-h2 toc-link" data-title="Evénements">Evénement spécifique</a>
                  </li>
                  <li>
                    <a href="#liste-des-evenements-par-date" class="toc-h2 toc-link" data-title="Evénements">Liste des événements par date</a>
                  </li>
                  <li>
                    <a href="#liste-des-evenements-par-categorie" class="toc-h2 toc-link" data-title="Evénements">Liste des événements par catégorie</a>
                  </li>
                  <li>
                    <a href="#liste-des-evenements-par-lieu" class="toc-h2 toc-link" data-title="Evénements">Liste des événements par lieu</a>
                  </li>
                  <li>
                    <a href="#liste-des-evenements-par-langue" class="toc-h2 toc-link" data-title="Evénements">Liste des événements par langue</a>
                  </li>
                  <li>
                    <a href="#liste-des-themes-des-evenements" class="toc-h2 toc-link" data-title="Evénements">Liste des thèmes des événements</a>
                  </li>
                  <li>
                    <a href="#liste-des-types-d-39-evenements" class="toc-h2 toc-link" data-title="Evénements">Liste des types d'événements</a>
                  </li>
                  <li>
                    <a href="#liste-des-publics" class="toc-h2 toc-link" data-title="Evénements">Liste des publics</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#lieux" class="toc-h1 toc-link" data-title="Lieux">Lieux</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#lieu-par-identifiant" class="toc-h2 toc-link" data-title="Lieux">Lieu par identifiant</a>
                  </li>
                  <li>
                    <a href="#lieu-par-identifiant-sig" class="toc-h2 toc-link" data-title="Lieux">Lieu par identifiant SIG</a>
                  </li>
                  <li>
                    <a href="#liste-des-lieux-par-type" class="toc-h2 toc-link" data-title="Lieux">Liste des lieux par type</a>
                  </li>
                  <li>
                    <a href="#liste-des-lieux-par-territoire" class="toc-h2 toc-link" data-title="Lieux">Liste des lieux par territoire</a>
                  </li>
                  <li>
                    <a href="#liste-des-lieux-par-territoire-et-type" class="toc-h2 toc-link" data-title="Lieux">Liste des lieux par territoire et type</a>
                  </li>
                  <li>
                    <a href="#liste-des-lieux-par-nom" class="toc-h2 toc-link" data-title="Lieux">Liste des lieux par nom</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#centres-d-39-interet" class="toc-h1 toc-link" data-title="Centres d'intérêt">Centres d'intérêt</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#liste-des-centres-d-39-interet" class="toc-h2 toc-link" data-title="Centres d'intérêt">Liste des centres d'intérêt</a>
                  </li>
                  <li>
                    <a href="#liste-des-centres-d-39-interet-d-39-un-utilisateur" class="toc-h2 toc-link" data-title="Centres d'intérêt">Liste des centres d'intérêt d'un utilisateur</a>
                  </li>
                  <li>
                    <a href="#mise-a-jour-des-centres-d-39-interet-d-39-un-utilisateur" class="toc-h2 toc-link" data-title="Centres d'intérêt">Mise à jour des centres d'intérêt d'un utilisateur</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#favoris" class="toc-h1 toc-link" data-title="Favoris">Favoris</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#liste-des-types-de-favoris" class="toc-h2 toc-link" data-title="Favoris">Liste des types de favoris</a>
                  </li>
                  <li>
                    <a href="#liste-des-favoris-d-39-un-utilisateur" class="toc-h2 toc-link" data-title="Favoris">Liste des favoris d'un utilisateur</a>
                  </li>
                  <li>
                    <a href="#ajout-d-39-un-favori" class="toc-h2 toc-link" data-title="Favoris">Ajout d'un favori</a>
                  </li>
                  <li>
                    <a href="#suppression-d-39-un-favori" class="toc-h2 toc-link" data-title="Favoris">Suppression d'un favori</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#notifications" class="toc-h1 toc-link" data-title="Notifications">Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#liste-des-types-de-notification" class="toc-h2 toc-link" data-title="Notifications">Liste des types de notification</a>
                  </li>
                  <li>
                    <a href="#liste-des-canaux-de-diffusion-de-notification" class="toc-h2 toc-link" data-title="Notifications">Liste des canaux de diffusion de notification</a>
                  </li>
                  <li>
                    <a href="#recuperation-des-parametres-de-notification-d-39-un-utilisateur" class="toc-h2 toc-link" data-title="Notifications">Récupération des paramètres de notification d'un utilisateur</a>
                  </li>
                  <li>
                    <a href="#mise-a-jour-des-parametres-de-notification-d-39-un-utilisateur" class="toc-h2 toc-link" data-title="Notifications">Mise à jour des paramètres de notification d'un utilisateur</a>
                  </li>
                  <li>
                    <a href="#liste-des-notifications-d-39-un-utilisateurs" class="toc-h2 toc-link" data-title="Notifications">Liste des notifications d'un utilisateurs</a>
                  </li>
                  <li>
                    <a href="#ajout-d-39-une-notification" class="toc-h2 toc-link" data-title="Notifications">Ajout d'une notification</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#categories" class="toc-h1 toc-link" data-title="Catégories">Catégories</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#liste-des-territoires" class="toc-h2 toc-link" data-title="Catégories">Liste des territoires</a>
                  </li>
                  <li>
                    <a href="#liste-des-services-gestionnaires" class="toc-h2 toc-link" data-title="Catégories">Liste des services gestionnaires</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.strasbourg.eu'>Strasbourg.eu</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation générée par Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Bienvenue sur la documentation des APIs de Strasbourg.eu. </p>

<p>Ces APIs vous permettront d&#39;accéder à différentes données de Strasbourg.eu comme les événements et les lieux de l&#39;Eurométropole de Strasbourg.</p>
<h1 id='authentification'>Authentification</h1>
<p>Certaines APIs sont publiques, d&#39;autres sont protégées par une authentification HTTP.</p>

<p>Les APIs publiques sont indiquées comme telles dans la documentation.</p>

<p>Vous devez posséder un compte utilisateur sur Strasbourg.eu pour accéder aux endpoints protégés.</p>

<p>Deux méthodes sont possibles pour s&#39;authentifier auprès de l&#39;API :</p>

<ul>
<li><p>Ajoutez le header HTTP <code>Authorization: Basic KEY</code> à chacune de vos requêtes, où KEY est la valeur en base 64 de la chaine de caractères &#39;username:password&#39; : , vous pouvez utiliser un encodeur en ligne comme <a href="http://www.motobit.com/util/base64-decoder-encoder.asp">celui-ci</a> pour effectuer l&#39;encodage</p></li>
<li><p>Ajoutez &#39;username:password@&#39; devant chaque URL des endpoints de l&#39;API (<code>https://www.strasbourg.eu/api/...</code> devient <code>https://username:password@www.strasbourg.eu/api...</code>)</p></li>
</ul>
<h1 id='evenements'>Evénements</h1><h2 id='tous-les-evenements'>Tous les événements</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-events"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event_1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Titre de l'événement"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event title"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sous-titre de l'événement"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event subtitle"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Description de l'événement&lt;/p&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Event description&lt;/p&gt;"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"imageURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://URL_DE_L_ILLUSTRATION"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"imageCopyright"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Copyright de l'image"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yyyy-MM-dd"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yyyy-MM-dd"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timeDetail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"De 16 à 18h"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"de_DE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"From 4 to 6pm"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nom du lieu où l'événement à lieu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event place name"</span><span class="p">,</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"streetNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Numéro de la rue"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"streetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nom de la rue"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Code postal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ville"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accessForBlind"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accessForWheelchair"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accessForDeaf"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accessForDeficient"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accessForElder"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Détails sur les accès au lieu de l'événement&lt;/p&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Event access details&lt;/p&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"accessForDisabled"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Détails sur les accès au lieu de l'événement pour les personnes handicapées&lt;/p&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Access details for disabled people&lt;/p&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"freeEntry"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Tarifs de l'événement&lt;/p&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Event price&lt;/p&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"83504"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"themes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"126203"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"territories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"83503"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"83503"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"83504"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"126203"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"eventURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.strasbourg.eu/-/entity/id/000001"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000002"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie l&#39;ensemble des événements qui ont lieu dans l&#39;Eurométropole de Strasbourg.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-events</code></p>
<h3 id='description-des-champs'>Description des champs</h3>
<p><em>TODO</em></p>
<h2 id='evenement-specifique'>Evénement spécifique</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-event/id/2"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie un événement spécifique.</p>
<h2 id='liste-des-evenements-par-date'>Liste des événements par date</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-date/date/01102018"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des événements qui se déroulent un jour donné.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-date/date/&lt;DATE&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>DATE</td>
<td>Date au format ddMMyyyy (exemple : 1er octobre 2018 devient 01102018)</td>
</tr>
</tbody></table>
<h2 id='liste-des-evenements-par-categorie'>Liste des événements par catégorie</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-category/categoryId/125"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des événements qui possèdent une catégorie donnée.</p>

<aside class="notice">
  Les catégories peuvent être des types, des thèmes, des publics ou des territoires. 
  Référez-vous à la documentation concernant les catégories pour savoir comment connaître ces différentes catégories et leurs identifiants.
</aside>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-category/categoryId/&lt;ID&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>Identifiant de la catégorie</td>
</tr>
</tbody></table>
<h2 id='liste-des-evenements-par-lieu'>Liste des événements par lieu</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-place/placeSIGId/125"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des événements qui se déroulent dans le lieu passé en paramètre.</p>

<aside class="notice">
  Afin de connaître les différents lieux existant et de récupérer leurs identifiants, référez-vous à la documentation concernant les lieux.
</aside>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-place/placeSIGId/&lt;ID&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>Identifiant du lieu</td>
</tr>
</tbody></table>
<h2 id='liste-des-evenements-par-langue'>Liste des événements par langue</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-language/language/fr_FR"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des événements qui possèdent une traduction dans la langue donnée.</p>

<aside class="notice">
  Sur Strasbourg.eu, les événements peuvent être dispoonbiles en Français ("fr_FR"), anglais ("en_US") et/ou allemand ("de_DE").
</aside>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-events-by-language/language/&lt;LANGUAGE&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LANGUAGE</td>
<td>Langue : &quot;fr_FR&quot; pour le français, &quot;en_US&quot; pour l&#39;anglais, &quot;de_DE&quot; pour l&#39;allemand</td>
</tr>
</tbody></table>
<h2 id='liste-des-themes-des-evenements'>Liste des thèmes des événements</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-themes
  -H "</span>Authorization: Basic KEY<span class="s2">"
</span></code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">    
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eté"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Summer"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Noël"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Christmas"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Noël des enfants"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Christmas for kids"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des thèmes des événements.</p>

<aside class="notice">Un thème peut avoir un thème parent. La profondeur de la catégorie dans l'arbre global est indiqué par la propriété "level" et l'identifiant de la catégorie parente par "parentId"</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-themes</code></p>
<h2 id='liste-des-types-d-39-evenements'>Liste des types d&#39;événements</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-types
  -H "</span>Authorization: Basic KEY<span class="s2">"
</span></code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">    
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Concert"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Concert"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exposition"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exhibition"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exposition d'art contemporain"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Modern art exhibition"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des types d&#39;événements.</p>

<aside class="notice">Un type peut avoir un type parent. La profondeur de la catégorie dans l'arbre global est indiqué par la propriété "level" et l'identifiant de la catégorie parente par "parentId". Une catégorie racine n'a pas de propriété "level", une catégorie ayant un parent possède un level de 1, deux parents 2, etc.</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-types</code></p>
<h2 id='liste-des-publics'>Liste des publics</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-publics
  -H "</span>Authorization: Basic KEY<span class="s2">"
</span></code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">    
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moins de 14 ans"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Under 14 years old"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"De 14 à 18 ans"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"From 14 to 18 years old"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des types de publics susceptibles d&#39;assister à un événement.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-publics</code></p>
<h1 id='lieux'>Lieux</h1><h2 id='lieu-par-identifiant'>Lieu par identifiant</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-id/id/&lt;ID&gt;"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie le lieu correspondant à l&#39;identifiant SIG passé en paramètre.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-id/id/&lt;ID&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>Identifiant du lieu</td>
</tr>
</tbody></table>
<h2 id='lieu-par-identifiant-sig'>Lieu par identifiant SIG</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-id-sig/sig-id/10_ENF_2"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie le lieu correspondant à l&#39;identifiant SIG passé en paramètre.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-id-sig/sig-id/&lt;ID_SIG&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID_SIG</td>
<td>Identifiant SIG du lieu</td>
</tr>
</tbody></table>
<h2 id='liste-des-lieux-par-type'>Liste des lieux par type</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-type/type-id/Cat_06_05"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des lieux correspondant à l&#39;identifiant SIG du type de lieu passé en paramètre.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-type/type-id/&lt;ID_TYPE&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE_ID</td>
<td>Identifiant SIG du type de lieu</td>
</tr>
</tbody></table>
<h2 id='liste-des-lieux-par-territoire'>Liste des lieux par territoire</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-territory/territory-id/P_FR"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des lieux correspondant à l&#39;identifiant SIG du territoire passé en paramètre.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-territory/territory-id/&lt;ID_TERRITORY&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TERRITORY_ID</td>
<td>Identifiant SIG du territoire</td>
</tr>
</tbody></table>
<h2 id='liste-des-lieux-par-territoire-et-type'>Liste des lieux par territoire et type</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-territory-and-type/territory-id/P_FR/type-id/&lt;ID_TYPE&gt;"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des lieux correspondant à l&#39;identifiant SIG du territoire et à l&#39;identifiant SIG du type de lieu passés en paramètres.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-territory-and-type/territory-id/&lt;ID_TERRITORY&gt;/type-id/&lt;ID_TYPE&gt;</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TERRITORY_ID</td>
<td>Identifiant SIG du territoire</td>
</tr>
<tr>
<td>TYPE_ID</td>
<td>Identifiant SIG du type de lieu</td>
</tr>
</tbody></table>
<h2 id='liste-des-lieux-par-nom'>Liste des lieux par nom</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/place.place/get-places-by-name-and-language/name/piscine/language/fr_FR
</span></code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des lieux ayant un nom contenant la chaîne de caractère passée en paramètre.</p>
<h3 id='requete-http'>Requête HTTP</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/place.place/get-place-by-name-and-language/keyword/&lt;KEYWORD&gt;/language/fr_FR</code></p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>KEYWORD</td>
<td>Mot-clé de recherche</td>
</tr>
</tbody></table>
<h1 id='centres-d-39-interet'>Centres d&#39;intérêt</h1><h2 id='liste-des-centres-d-39-interet'>Liste des centres d&#39;intérêt</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/interest.interest/get-interests"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"275305"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centre d'intérêt 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centre d'intérêt 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"275302"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de centre d'intérêt 1"</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"188274"</span><span class="w">
            </span><span class="p">],</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"275303"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centre d'intérêt 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centre d'intérêt 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"275302"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de centre d'intérêt 1"</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"188064"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"188274"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste de tous les centres d&#39;intérêts publiés.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/interest.interest/get-interests</code></p>
<h2 id='liste-des-centres-d-39-interet-d-39-un-utilisateur'>Liste des centres d&#39;intérêt d&#39;un utilisateur</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/interest.interest/get-user-interests"</span>  
  -F <span class="s2">"userId=USER_ID"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M0cG+MtX8/Zr+zSMuI+H7yTC7SeEHT/tvYr1BsdqZic="</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"275303"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des identifiants des centres d&#39;intérêt d&#39;un utilisateur.</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
</tbody></table>
<h2 id='mise-a-jour-des-centres-d-39-interet-d-39-un-utilisateur'>Mise à jour des centres d&#39;intérêt d&#39;un utilisateur</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://www.strasbourg.eu/api/jsonws/interest.interest/set-user-interests<span class="s2">"
  -F "</span><span class="nv">userId</span><span class="o">=</span>USERID<span class="s2">"
  -F "</span><span class="nv">interestIds</span><span class="o">=</span>INTEREST_IDS<span class="s2">"
  -H "</span>Authorization: Basic KEY<span class="s2">"
</span></code></pre>
<blockquote>
<p>La réponse est un des deux objet suivant :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M0cG+MtX8/Zr+zSMuI+H7yTC7SeEHT/tvYr1BsdqZic="</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"275303"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
<tr>
<td>interestIds</td>
<td>Liste de tous les centres d&#39;intérêt à assigner à l&#39;utilisateur séparés par des virgules (chaîne vide pour supprimer tous les centres d&#39;intérêts de l&#39;utilisateur)</td>
</tr>
</tbody></table>
<h3 id='messages-d-39-erreurs'>Messages d&#39;erreurs</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>not authorized</td>
<td>L&#39;utilisateur accédant au endpoint n&#39;a pas les droits nécessaires à la réalisation de cette action</td>
</tr>
<tr>
<td>invalid format for id of interest</td>
<td>Le format du paramètre &quot;interestIds&quot; n&#39;est pas correct</td>
</tr>
<tr>
<td>interest does not exist</td>
<td>Le centre d&#39;intérêt n&#39;existe pas</td>
</tr>
</tbody></table>
<h1 id='favoris'>Favoris</h1><h2 id='liste-des-types-de-favoris'>Liste des types de favoris</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/favorite.favorite/get-types"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PLACE"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EVENT"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIDEO"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EDITION"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IMAGE"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEWS"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARTICLE"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCEDURE"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des types de favoris.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/favorite.favorite/get-types</code></p>
<h2 id='liste-des-favoris-d-39-un-utilisateur'>Liste des favoris d&#39;un utilisateur</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/favorite.favorite/get-user-favorites"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>  
  -F <span class="s2">"userId=USER_ID"</span>
</code></pre>
<blockquote>
<p>La réponse est un des deux objet suivant :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"favorites"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"281701"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon événement"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"entityId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"190665"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"entityTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Le ballet des ombres heureuses"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"281702"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon lieu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"entityId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"153866"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"entityTitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crèche collective et halte garderie de la Maison de l’enfance"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint permet de récupérer la liste des favoris d&#39;un utilisateur.</p>

<p>Le champ &quot;entityTitle&quot; n&#39;est retourné que pour les types correspondant à une entité de Strasbourg.eu (actuellement tout sauf les procédures).</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
</tbody></table>
<h3 id='messages-d-39-erreurs'>Messages d&#39;erreurs</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>not authorized</td>
<td>L&#39;utilisateur accédant au endpoint n&#39;a pas les droits nécessaires à la réalisation de cette action</td>
</tr>
</tbody></table>
<h2 id='ajout-d-39-un-favori'>Ajout d&#39;un favori</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/favorite.favorite/add-favorite"</span>
  -F <span class="s2">"userId=USER_ID"</span>
  -F <span class="s2">"typeId=TYPE_ID"</span>
  -F <span class="s2">"title=TITLE"</span>
  -F <span class="s2">"url=URL"</span>
  -F <span class="s2">"entityId=ENTITY_ID"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La réponse est un des deux objet suivant :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint permet de créer un nouveau favori.</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
<tr>
<td>typeId</td>
<td>Type du favori</td>
</tr>
<tr>
<td>title</td>
<td>Titre du favori</td>
</tr>
<tr>
<td>url</td>
<td>URL cible du favori</td>
</tr>
<tr>
<td>entityId</td>
<td>Identifiant de l&#39;entité mise en favori - s&#39;il ne s&#39;agit pas d&#39;une entité de Strasbourg.eu, passer la valeur 0 en paramètre (uniquement pour le type de favoris &quot;procédure&quot;)</td>
</tr>
</tbody></table>
<h3 id='messages-d-39-erreurs'>Messages d&#39;erreurs</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>not authorized</td>
<td>L&#39;utilisateur accédant au endpoint n&#39;a pas les droits nécessaires à la réalisation de cette action</td>
</tr>
<tr>
<td>type does not exist</td>
<td>Le type n’existe pas</td>
</tr>
<tr>
<td>entity does not exist</td>
<td>L&#39;entité n&#39;existe pas</td>
</tr>
<tr>
<td>title is empty</td>
<td>Le titre est vide</td>
</tr>
<tr>
<td>url is not valid</td>
<td>L&#39;URL n&#39;est pas valide</td>
</tr>
<tr>
<td>unknown error</td>
<td>Erreur inconnue</td>
</tr>
</tbody></table>
<h3 id='message-de-succes'>Message de succès</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>favorite added</td>
<td>Favori ajouté</td>
</tr>
</tbody></table>
<h2 id='suppression-d-39-un-favori'>Suppression d&#39;un favori</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/favorite.favorite/delete-favorite"</span>
  -F <span class="s2">"userId=USER_ID"</span>
  -F <span class="s2">"favoriteId=FAVORITE_ID"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La réponse est un des deux objet suivant :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint permet de supprimer un favori.</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
<tr>
<td>favoriteId</td>
<td>Identifiant du favori</td>
</tr>
</tbody></table>
<h3 id='messages-d-39-erreurs'>Messages d&#39;erreurs</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>not authorized</td>
<td>L&#39;utilisateur accédant au endpoint n&#39;a pas les droits nécessaires à la réalisation de cette action</td>
</tr>
<tr>
<td>favorite does not exist</td>
<td>Le favori n&#39;existe pas</td>
</tr>
<tr>
<td>favorite does not belong to user</td>
<td>Le favori existe mais n&#39;appartient pas à l&#39;utilisateur passé en paramètre</td>
</tr>
<tr>
<td>unknown error</td>
<td>Erreur inconnue</td>
</tr>
</tbody></table>
<h3 id='message-de-succes'>Message de succès</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>favorite deleted</td>
<td>Favori supprimé</td>
</tr>
</tbody></table>
<h1 id='notifications'>Notifications</h1><h2 id='liste-des-types-de-notification'>Liste des types de notification</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/notification.notification/get-types"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 2"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des types de notification.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/notification.notification/get-types</code></p>
<h2 id='liste-des-canaux-de-diffusion-de-notification'>Liste des canaux de diffusion de notification</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/notification.notification/get-channels"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"channels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des canaux de notification proposés aux utilisateurs.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/notification.notification/get-channels</code></p>
<h2 id='recuperation-des-parametres-de-notification-d-39-un-utilisateur'>Récupération des paramètres de notification d&#39;un utilisateur</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/notification.notification/get-user-settings"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>  
  -F <span class="s2">"userId=USER_ID"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M0cG+MtX8/Zr+zSMuI+H7yTC7SeEHT/tvYr1BsdqZic="</span><span class="p">,</span><span class="w">
    </span><span class="s2">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 2"</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"channels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"EMAIL"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des types de notifications auxquels l&#39;utilisateur est abonné ainsi que la liste des canaux qu&#39;il a choisi.</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
</tbody></table>
<h2 id='mise-a-jour-des-parametres-de-notification-d-39-un-utilisateur'>Mise à jour des paramètres de notification d&#39;un utilisateur</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/notification.notification/set-user-settings"</span>
  -F <span class="s2">"userId=USER_ID"</span>
  -F <span class="s2">"typeIds=TYPE_IDS"</span>
  -F <span class="s2">"channelIds=CHANNEL_IDS"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante en cas de succès :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"channels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"PHONE"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M0cG+MtX8/Zr+zSMuI+H7yTC7SeEHT/tvYr1BsdqZic="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>En cas d&#39;erreur, la structure suivante est renvoyée :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint permet de mettre à jour les réglages d&#39;un utilisateur.</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik</td>
</tr>
<tr>
<td>typeIds</td>
<td>Liste de tous les types de notification à assigner à l&#39;utilisateur séparés par des virgules (chaîne vide pour supprimer tous les centres d&#39;intérêts de l&#39;utilisateur)</td>
</tr>
<tr>
<td>channelIds</td>
<td>Liste de tous les canaux de notification à assigner à l&#39;utilisateur séparés par des virgules (chaîne vide pour supprimer tous les centres d&#39;intérêts de l&#39;utilisateur)</td>
</tr>
</tbody></table>
<h3 id='messages-d-39-erreurs'>Messages d&#39;erreurs</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>not authorized</td>
<td>L&#39;utilisateur accédant au endpoint n&#39;a pas les droits nécessaires à la réalisation de cette action</td>
</tr>
<tr>
<td>type does not exist</td>
<td>Le type n’existe pas</td>
</tr>
<tr>
<td>incorrect typeIds value</td>
<td>Le format du champ (ids séparés par des virgules) n&#39;est pas respecté</td>
</tr>
<tr>
<td>channel does not exist</td>
<td>Le canal n&#39;existe pas</td>
</tr>
<tr>
<td>incorrect channelIds value</td>
<td>Le format duc hamp (ids séparés par des virgules) n&#39;est pas respecté</td>
</tr>
</tbody></table>
<h2 id='liste-des-notifications-d-39-un-utilisateurs'>Liste des notifications d&#39;un utilisateurs</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/notification.notification/get-user-notifications"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>  
  -F <span class="s2">"userId=USER_ID"</span>
</code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"notifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"279201"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Notification de type 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Notification de type 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"isRead"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon Sep 11 13:12:00 GMT 2017"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon Sep 11 13:12:00 GMT 2017"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"279801"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ma super notif"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ma super notif"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type de notification 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"typeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"isRead"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mon Dec 03 10:15:30 GMT 2007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri Dec 03 10:15:30 GMT 2027"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint permet de récupérer la liste des notifications d&#39;un utilisateurs.</p>
<h2 id='ajout-d-39-une-notification'>Ajout d&#39;une notification</h2><pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://www.strasbourg.eu/api/jsonws/notification.notification/add-notification"</span>
  -F <span class="s2">"isGlobal=IS_GLOBAL"</span>
  -F <span class="s2">"userId=USER_ID"</span>
  -F <span class="s2">"typeId=TYPE_IDS"</span>
  -F <span class="s2">"title=TITLE"</span>
  -F <span class="s2">"description=DESCRIPTION"</span>
  -F <span class="s2">"url=URL"</span>
  -F <span class="s2">"publicationDate=PUBLICATION_DATE"</span>
  -F <span class="s2">"expirationDate=EXPIRATION_DATE"</span>
  -H <span class="s2">"Authorization: Basic KEY"</span>
</code></pre>
<blockquote>
<p>La réponse est un des deux objet suivant :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MESSAGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Ce endpoint permet d&#39;envoyer une nouvelle notification.</p>
<h3 id='parametres'>Paramètres</h3>
<table><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>isGlobal</td>
<td>&quot;true&quot; si la notification doit être envoyée à tous les utilisateurs abonnés au type, &quot;false&quot; si la notification s&#39;applique à un utilisateur en particulier</td>
</tr>
<tr>
<td>userId</td>
<td>Identifiant de l&#39;utilisateur dans la base Publik, doit être vide si isGlobal est &quot;true&quot;</td>
</tr>
<tr>
<td>typeId</td>
<td>Type de la notification</td>
</tr>
<tr>
<td>title</td>
<td>Titre de la notification</td>
</tr>
<tr>
<td>description</td>
<td>Description de la notification</td>
</tr>
<tr>
<td>url</td>
<td>Si la notification correspond à une page en particulier, URL de cette page, sinon chaîne vide</td>
</tr>
<tr>
<td>publicationDate</td>
<td>Date d&#39;envoi de la notification (format yyyy-MM-ddThh:mm:ss)</td>
</tr>
<tr>
<td>expirationDate</td>
<td>Date d&#39;expiration de la notification, forcément ultérieure à la date de publication (format yyyy-MM-ddThh:mm:ss)</td>
</tr>
</tbody></table>
<h3 id='messages-d-39-erreurs'>Messages d&#39;erreurs</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>not authorized</td>
<td>L&#39;utilisateur accédant au endpoint n&#39;a pas les droits nécessaires à la réalisation de cette action</td>
</tr>
<tr>
<td>isGlobal is true but userId is not empty</td>
<td>Le paramètre isGlobal est &quot;true&quot; mais un userId a été passé passé en paramètre, si isGlobal est &quot;true&quot;, userId doit être vide</td>
</tr>
<tr>
<td>user does not exist</td>
<td>Le userId ne correspond à aucun utilisateur connu chez nous</td>
</tr>
<tr>
<td>title is empty</td>
<td>Le titre est vide</td>
</tr>
<tr>
<td>description is empty</td>
<td>La description est vide</td>
</tr>
<tr>
<td>url is not valid</td>
<td>L&#39;URL n&#39;est pas valide</td>
</tr>
<tr>
<td>publication date is after expiration date</td>
<td>La date de publication est ultérieure à la date de dépublication</td>
</tr>
<tr>
<td>wrong date format</td>
<td>Le format de la date n’est pas correct</td>
</tr>
<tr>
<td>type does not exist</td>
<td>Le type n’existe pas</td>
</tr>
<tr>
<td>unknown error</td>
<td>Erreur inconnue</td>
</tr>
</tbody></table>
<h3 id='message-de-succes'>Message de succès</h3>
<table><thead>
<tr>
<th>Message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td>notification sent</td>
<td>Notification envoyée</td>
</tr>
</tbody></table>
<h1 id='categories'>Catégories</h1><h2 id='liste-des-territoires'>Liste des territoires</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-territories
  -H "</span>Authorization: Basic KEY<span class="s2">"
</span></code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante :</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">    
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allemagne"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Germany"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"France"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"France"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Strasbourg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Strasbourg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centre"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City center"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des territoires pouvant être référencés par d&#39;autres entités, comme les événements où les lieux.</p>

<aside class="notice">Un territoire peut avoir un territoire parent. La profondeur de la catégorie dans l'arbre global est indiqué par la propriété "level" et l'identifiant de la catégorie parente par "parentId"</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-territories</code></p>
<h2 id='liste-des-services-gestionnaires'>Liste des services gestionnaires</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://www.strasbourg.eu/api/jsonws/agenda.event/get-services
  -H "</span>Authorization: Basic KEY<span class="s2">"
</span></code></pre>
<blockquote>
<p>La structure JSON renvoyée est la suivante</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">    
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service 1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fr_FR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service 2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Ce endpoint renvoie la liste des services gestionnaires des événements.</p>

<aside class="notice">Un territoire peut avoir un territoire parent. La profondeur de la catégorie dans l'arbre global est indiqué par la propriété "level" et l'identifiant de la catégorie parente par "parentId"</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://www.strasbourg.eu/api/jsonws/agenda.event/get-services</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
